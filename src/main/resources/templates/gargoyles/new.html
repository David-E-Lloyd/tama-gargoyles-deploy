<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Create your Gargoyle</title>
</head>
<body>
<h1>It's time to name your new gargoyle</h1>
<!--form to capture name of new gargoyle-->
<form th:action="@{'/gargoyles'}" th:object="${gargoyle}" method="post">
    <label th:for="name">Name:</label><br>
    <input type="text" th:field="*{name}" required maxlength="30"/> <br><br>

<!--button to create -->
<button type="submit" name="Create" value="">Create</button>
</form>
<br><br>
<a href="/">Back</a>
<div>
    <!-- Music Toggle Icon -->
    <button
            id="music-toggle"
            onclick="toggleMusic()"
            aria-label="Toggle background music"
            style="font-size: 1.5rem; background: none; border: none; cursor: pointer;">
        ðŸ”‡
    </button>

    <audio id="bg-music" loop>
        <source th:src="@{/audio/music/egg.mp3}" type="audio/mpeg">
    </audio>

    <script>
        function toggleMusic() {
            const music = document.getElementById("bg-music");
            const button = document.getElementById("music-toggle");

            if (!music) return;

            music.volume = 0.3;

            if (music.paused) {
                music.play();
                button.textContent = "ðŸŽµ";
                button.setAttribute("aria-label", "Stop background music");
            } else {
                music.pause();
                music.currentTime = 0;
                button.textContent = "ðŸ”‡";
                button.setAttribute("aria-label", "Play background music");
            }
        }
    </script>
</div>
</body>
</html>